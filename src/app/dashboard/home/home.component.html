<header>
  <h2>Fluper Articles</h2>
  <button (click)="logout()" class="btn btn-primary">Logout</button>
</header>

<section>
  <nav>
    <div class="jumbotron">
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <h3>Fluper Reactive Form Validation</h3>
            <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
              <div class="form-group">
                <label>First Name</label>
                <input
                  type="text"
                  formControlName="firstName"
                  class="form-control"
                  [ngClass]="{ 'is-invalid': submitted && f.firstName.errors }"
                />
                <div
                  *ngIf="submitted && f.firstName.errors"
                  class="invalid-feedback"
                >
                  <div *ngIf="f.firstName.errors.required">
                    First Name is required
                  </div>
                </div>
              </div>
              <div class="form-group">
                <label>Last Name</label>
                <input
                  type="text"
                  formControlName="lastName"
                  class="form-control"
                  [ngClass]="{ 'is-invalid': submitted && f.lastName.errors }"
                />
                <div
                  *ngIf="submitted && f.lastName.errors"
                  class="invalid-feedback"
                >
                  <div *ngIf="f.lastName.errors.required">
                    Last Name is required
                  </div>
                </div>
              </div>
              <div class="form-group">
                <label>Email</label>
                <input
                  type="text"
                  formControlName="email"
                  class="form-control"
                  [ngClass]="{ 'is-invalid': submitted && f.email.errors }"
                />
                <div
                  *ngIf="submitted && f.email.errors"
                  class="invalid-feedback"
                >
                  <div *ngIf="f.email.errors.required">Email is required</div>
                  <div *ngIf="f.email.errors.email">
                    Email must be a valid email address
                  </div>
                </div>
              </div>
              <div class="form-group">
                <label>Password</label>
                <input
                  type="password"
                  formControlName="password"
                  class="form-control"
                  [ngClass]="{ 'is-invalid': submitted && f.password.errors }"
                />
                <div
                  *ngIf="submitted && f.password.errors"
                  class="invalid-feedback"
                >
                  <div *ngIf="f.password.errors.required">
                    Password is required
                  </div>
                  <div *ngIf="f.password.errors.minlength">
                    Password must be at least 6 characters
                  </div>
                </div>
              </div>
              <div class="form-group">
                <label>Confirm Password</label>
                <input
                  type="password"
                  formControlName="confirmPassword"
                  class="form-control"
                  [ngClass]="{
                    'is-invalid': submitted && f.confirmPassword.errors
                  }"
                />
                <div
                  *ngIf="submitted && f.confirmPassword.errors"
                  class="invalid-feedback"
                >
                  <div *ngIf="f.confirmPassword.errors.required">
                    Confirm Password is required
                  </div>
                  <div *ngIf="f.confirmPassword.errors.mustMatch">
                    Passwords must match
                  </div>
                </div>
              </div>
              <div class="form-group">
                <button class="btn btn-primary">Register</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </nav>

  <article>
    <!-- <table class="table table-striped" *ngIf="datasource.length>1;else other_content">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Author</th>
            <th scope="col">Published at</th>
            <th scope="col">Title</th>
            <th scope="col">Image</th>
          </tr>
        </thead>
        <tbody >
          <tr >
            <th scope="row">{{i+1}}</th>
            <td>{{item.author}}</td>
            <td>{{item.publishedAt}}</td>
            <td></td>
            <td><img class="img" src={{item.urlToImage}} alt="urlToImage" /></td>
          </tr>
           </tbody>
      </table>
    
   -->
    <div class="apiData" *ngIf="datasource.length > 1; else other_content">
      <div class="card" *ngFor="let item of datasource; let i = index">
        <img
          class="card-img-top img"
          src="{{ item.urlToImage }}"
          alt="Card image cap"
        />
        <div class="card-body">
          <h5 class="card-title">{{ item.title }}</h5>
          <h6 class="card-title">{{ item.author }}</h6>
          <p class="card-text">
            {{ item.description }}
          </p>
          <a href="#" class="btn btn-primary"
            >Published at: {{ item.publishedAt | date }}</a
          >
        </div>
      </div>
    </div>
    <ng-template #other_content>Loading articles...</ng-template>
  </article>
</section>

<footer>
  <p>@Nikhil Singhal</p>
</footer>
